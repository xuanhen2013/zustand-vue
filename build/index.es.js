import e from"zustand/vanilla";export{default as createStore}from"zustand/vanilla";import*as t from"vue";const r=(e,t,r,n)=>{if(!r||!n)return!0;const o=r(t),u=r(e);return void 0!==n&&!n(o,u)};function n(e,n,o,u,c){const i=t.reactive(e);return n.default||(n.default=o.subscribe(((e,t)=>{r(e,t,u,c)&&(i[prop]=u?u(e)[prop]:e[prop])}))),t.readonly(i)}function o(e,t,n,o,u,c){const i=Object.keys(e);t||(t={},i.forEach((i=>{if(n[i])return;let s=e[i];n[i]=o.subscribe(((e,n)=>{if(!r(e,n,u,c))return;if(e[i]===t[i])return;const o=e[i]instanceof Array;e[i];o?(t[i]||(t[i]=[]),t[i].splice(0,t[i].length,...e[i])):t[i]=e[i]})),Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s,set:e=>{e!==s&&(s=e)}})})));return u?u(t):t}function u(e,u,c){var i;const s=e.getState(),f=u?u(s):s,a=(null==f?void 0:f.constructor)===Object,l="function"==typeof f,d={};if(t.set||(null===(i=t.default)||void 0===i?void 0:i.set)){let t;return o(s,t,d,e,u,c)}if(t.getCurrentInstance()&&t.onScopeDispose((()=>{for(const e in d)"function"==typeof d[e]&&d[e]()})),void 0===f)return t.ref(void 0);if(a)return"undefined"==typeof Proxy?(((e,t,n,o,u)=>{const c=Object.keys(e);c.forEach((i=>{let s=e[i];Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>(c.includes(i)&&(t[i]||(t[i]=n.subscribe(((t,n)=>{r(t,n,o,u)&&(e[i]=o?o(t)[i]:t[i])})))),s),set:e=>{e!==s&&(s=e)}})}))})(f,d,e,u,c),t.reactive(f)):n(f,d,e,u,c);{const n=t.ref(f);return d.default=e.subscribe(((e,t)=>{r(e,t,u,c)&&(n.value=u?u(e):e)})),t.readonly(l?n.value:n)}}const c=t=>{const r="function"==typeof t?e(t):t;return Object.assign(((e,t)=>u(r,e,t)),r)};export{c as create,c as default,n as defineProxy,o as defineSet};
