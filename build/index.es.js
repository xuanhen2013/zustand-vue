import e from"zustand/vanilla";export{default as createStore}from"zustand/vanilla";import*as t from"vue";const n=(e,t,n,r)=>{if(!n||!r)return!0;const o=n(t),u=n(e);return void 0!==r&&!r(o,u)};function r(e,r,o,u,s){const c=t.ref(e);return r.default||(r.default=o.subscribe(((e,t)=>{n(e,t,u,s)&&(c.value=u?u(e):e)}))),t.readonly(c)}function o(e,t,r,o,u,s){const c=Object.keys(e);t||(t={},c.forEach((c=>{if(r[c])return;let a=e[c];r[c]=o.subscribe(((e,r)=>{if(!n(e,r,u,s))return;if(e[c]===t[c])return;const o=e[c]instanceof Array;e[c];o?(t[c]||(t[c]=[]),t[c].splice(0,t[c].length,...e[c])):t[c]=e[c]})),Object.defineProperty(t,c,{enumerable:!0,configurable:!0,get:()=>a,set:e=>{e!==a&&(a=e)}})})));return u?u(t):t}const u=r=>{const u="function"==typeof r?e(r):r,s=Object.assign(((e,r)=>function(e,r,u){var s;const c=e.getState(),a=r?r(c):c;null==a||a.constructor;const f={};if(t.set||(null===(s=t.default)||void 0===s?void 0:s.set)){let t;return o(c,t,f,e,r,u)}if(t.getCurrentInstance()&&t.onScopeDispose((()=>{for(const e in f)"function"==typeof f[e]&&f[e]()})),void 0===a)return t.ref(void 0);{const o=t.ref(a);return f.default=e.subscribe(((e,t)=>{n(e,t,r,u)&&(o.value=r?r(e):e)})),t.readonly(o.value)}}(u,e,r)),u);return s};export{u as create,u as default,r as defineProxy,o as defineSet};
