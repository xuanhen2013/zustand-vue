import t from"zustand/vanilla";export{default as createStore}from"zustand/vanilla";import*as e from"vue";const n=(t,e,n,r)=>{if(!n||!r)return!0;const o=n(e),u=n(t);return void 0!==r&&!r(o,u)};function r(t,r,o,u,s){const c=e.ref(t);return r.default||(r.default=o.subscribe(((t,e)=>{n(t,e,u,s)&&(c.value=u?u(t):t)}))),e.readonly(c)}function o(t,e,r,o,u,s){const c=Object.keys(t);e||(e={},c.forEach((c=>{if(r[c])return;let f=t[c];r[c]=o.subscribe(((t,r)=>{if(!n(t,r,u,s))return;if(t[c]===e[c])return;const o=t[c]instanceof Array;t[c];o?(e[c]||(e[c]=[]),e[c].splice(0,e[c].length,...t[c])):e[c]=t[c]})),Object.defineProperty(e,c,{enumerable:!0,configurable:!0,get:()=>f,set:t=>{t!==f&&(f=t)}})})));return u?u(e):e}const u=r=>{const u="function"==typeof r?t(r):r,s=Object.assign(((t,r)=>function(t,r,u){var s;const c=t.getState(),f=r?r(c):c;null==f||f.constructor;const i={};if(e.set||(null===(s=e.default)||void 0===s?void 0:s.set)){let e;return o(c,e,i,t,r,u)}if(e.getCurrentInstance()&&e.onScopeDispose((()=>{for(const t in i)"function"==typeof i[t]&&i[t]()})),void 0===f)return e.ref(void 0);{const o=e.ref(f);return i.default=t.subscribe(((t,e)=>{n(t,e,r,u)&&(o.value=r?r(t):t)})),e.readonly(o)}}(u,t,r)),u);return s};export{u as create,u as default,r as defineProxy,o as defineSet};
